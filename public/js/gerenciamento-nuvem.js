var _0xa7c3=["labdequalidadedeenergia","labsima","salaprof1","destinationName","alert-warning","subscribe","saladeaula2","labdesistemasmotrizesb","sala8","errorMessage","checked","labdemodelagem","xldvnagx","<span class='uk-margin-small-left' uk-spinner></span>","saladeaula1","secretaria","sala3","alert-success","payloadString","send","Conectado!",".interruptor #lampadas4","sima","off4","labdeinstalacoeseletricas","alert-danger","sala7","sala4","on4","onMessageArrived","getUTCMilliseconds","salaprof4","diretoria","forEach","modelagem",".interruptor #lampadas2","div.alert","off2","salareuniao","ceamazon/","change","connect",":checked","querySelector","addClass","Falha na conexão com a nuvem!","labdesistemasmotrizesa","removeClass","each","background","errorCode","salaprof5","salaprof3","sala5","onConnectionLost",".img-sala [data-dispositivo='lampadas2']","display","join","toLowerCase","labmotriz1","labdeafericao",".interruptor .interruptor-lampada","secretaria1",".img-sala [data-dispositivo='lampadas1']","style","salaprof6",".img-sala [data-dispositivo='lampadas3']","onConnectionLost:","sala10","off1","lcade","block","innerText","qos","off3","match","qee",".img-sala [data-dispositivo='lampadas4']","Message","replace","querySelectorAll","hD23-LNVOrD8","#ee2211","log","sala1","sala9","retained","saladereuniao","on3","on2"];!function(a,x){!function(x){for(;--x;)a.push(a.shift())}(++x)}(_0xa7c3,287);var _0x2b74=function(a,x){return _0xa7c3[a-=0]},textoNotificacao=document[_0x2b74("0x1a")](_0x2b74("0x13"));$(textoNotificacao).append(_0x2b74("0x56"));var host="hairdresser.cloudmqtt.com",port=37615,id="ceamazon_"+(new Date)[_0x2b74("0xd")](),client=new Paho.Client(host,port,id);function doFail(a){a&&(console[_0x2b74("0x42")](a),$(textoNotificacao)[_0x2b74("0x1e")]("alert-warning")[_0x2b74("0x1b")](_0x2b74("0x8")),textoNotificacao[_0x2b74("0x37")]=_0x2b74("0x1c"),textoNotificacao[_0x2b74("0x2f")][_0x2b74("0x27")]=_0x2b74("0x36"))}function onConnectionLost(a){0!==a[_0x2b74("0x21")]&&(console[_0x2b74("0x42")](_0x2b74("0x32")+a[_0x2b74("0x52")]),$(textoNotificacao)[_0x2b74("0x1e")](_0x2b74("0x4d"))[_0x2b74("0x1b")](_0x2b74("0x8")),textoNotificacao[_0x2b74("0x37")]="A conexão com a nuvem foi perdida!",textoNotificacao[_0x2b74("0x2f")][_0x2b74("0x27")]=_0x2b74("0x36"))}function onMessageArrived(a){mudaInterruptores(a[_0x2b74("0x1")]),mudaIconesLampadas(a[_0x2b74("0x1")])}client[_0x2b74("0x25")]=onConnectionLost,client[_0x2b74("0xc")]=onMessageArrived;var options={userName:_0x2b74("0x55"),password:_0x2b74("0x40"),useSSL:!0,onSuccess:onConnect,onFailure:doFail};function onConnect(){$(textoNotificacao)[_0x2b74("0x1e")](_0x2b74("0x4d"))[_0x2b74("0x1b")](_0x2b74("0x0")),textoNotificacao.innerText=_0x2b74("0x3");var a=document.querySelectorAll(_0x2b74("0x2c")),x=document[_0x2b74("0x1a")](".salas .sala-nome")[_0x2b74("0x37")][_0x2b74("0x29")]()[_0x2b74("0x3e")](/[á]/g,"a")[_0x2b74("0x3e")](/[ã]/g,"a")[_0x2b74("0x3e")](/[é]/g,"e")[_0x2b74("0x3e")](/[ó]/g,"o")[_0x2b74("0x3e")](/[õ]/g,"o")[_0x2b74("0x3e")](/[ç]/g,"c")[_0x2b74("0x3a")](/[a-z0-9]/g)[_0x2b74("0x28")]("");switch(x){case _0x2b74("0x7"):x="lie";break;case _0x2b74("0x1d"):x=_0x2b74("0x2a");break;case _0x2b74("0x58"):x=_0x2b74("0x2d");break;case _0x2b74("0xf"):x="secretaria2";break;case"labdeconcepcaoeanalisededispositivoseletricos":x=_0x2b74("0x35");break;case _0x2b74("0x4a"):x=_0x2b74("0x5");break;case _0x2b74("0x54"):x=_0x2b74("0x11");break;case _0x2b74("0x49"):x=_0x2b74("0x3b");break;case _0x2b74("0x50"):x="labmotriz2";break;case _0x2b74("0x46"):x=_0x2b74("0x15");break;case _0x2b74("0x57"):x=_0x2b74("0x43");break;case _0x2b74("0x4f"):x="sala2";break;case _0x2b74("0x2b"):x=_0x2b74("0x59");break;case _0x2b74("0x4b"):x=_0x2b74("0xa");break;case"salaprof2":x=_0x2b74("0x24");break;case _0x2b74("0x23"):x="sala6";break;case _0x2b74("0xe"):x=_0x2b74("0x9");break;case _0x2b74("0x22"):x=_0x2b74("0x51");break;case _0x2b74("0x30"):x=_0x2b74("0x44");break;case"oficina":x=_0x2b74("0x33")}for(var e=1;e<a.length+1;e++)client[_0x2b74("0x4e")](_0x2b74("0x16")+x+"/c"+e);acionaLampadas(x,a,client)}function acionaLampadas(a,x,e){var o="";$(x)[_0x2b74("0x1f")]((function(x){x+=1,$(this)[_0x2b74("0x17")]((function(){$(this).is(_0x2b74("0x19"))?((o=new(Paho[_0x2b74("0x3d")])("on"+x))[_0x2b74("0x4c")]=_0x2b74("0x16")+a+"/c"+x,o[_0x2b74("0x38")]=1,o[_0x2b74("0x45")]=!0,e[_0x2b74("0x2")](o)):((o=new(Paho[_0x2b74("0x3d")])("off"+x))[_0x2b74("0x4c")]="ceamazon/"+a+"/c"+x,o.qos=1,o[_0x2b74("0x45")]=!0,e.send(o))}))}))}function mudaInterruptores(a){var x=document[_0x2b74("0x3f")](_0x2b74("0x2c")),e=document[_0x2b74("0x1a")](".interruptor #lampadas1"),o=document[_0x2b74("0x1a")](_0x2b74("0x12")),b=document[_0x2b74("0x1a")](".interruptor #lampadas3"),c=document.querySelector(_0x2b74("0x4"));x.forEach((function(){switch(a){case"on1":e[_0x2b74("0x53")]=!0;break;case _0x2b74("0x34"):e[_0x2b74("0x53")]=!1;break;case"on2":o.checked=!0;break;case _0x2b74("0x14"):o.checked=!1;break;case _0x2b74("0x47"):b.checked=!0;break;case _0x2b74("0x39"):b.checked=!1;break;case"on4":c[_0x2b74("0x53")]=!0;break;case _0x2b74("0x6"):c.checked=!1}}))}function mudaIconesLampadas(a){var x=document[_0x2b74("0x3f")](_0x2b74("0x2e")),e=document[_0x2b74("0x3f")](_0x2b74("0x26")),o=document[_0x2b74("0x3f")](_0x2b74("0x31")),b=document[_0x2b74("0x3f")](_0x2b74("0x3c")),c=_0x2b74("0x41");x[_0x2b74("0x10")]((function(x){"on1"==a?x[_0x2b74("0x2f")][_0x2b74("0x20")]="#119933":a==_0x2b74("0x34")&&(x[_0x2b74("0x2f")].background=c)})),e.forEach((function(x){a==_0x2b74("0x48")?x[_0x2b74("0x2f")][_0x2b74("0x20")]="#119933":"off2"==a&&(x[_0x2b74("0x2f")].background=c)})),o[_0x2b74("0x10")]((function(x){a==_0x2b74("0x47")?x[_0x2b74("0x2f")][_0x2b74("0x20")]="#119933":"off3"==a&&(x[_0x2b74("0x2f")][_0x2b74("0x20")]=c)})),b[_0x2b74("0x10")]((function(x){a==_0x2b74("0xb")?x[_0x2b74("0x2f")][_0x2b74("0x20")]="#119933":a==_0x2b74("0x6")&&(x[_0x2b74("0x2f")].background=c)}))}client[_0x2b74("0x18")](options);