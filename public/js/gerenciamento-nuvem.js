var _0xd363=[".interruptor #lampadas2",".img-sala [data-dispositivo='lampadas2']","log",".salas .sala-nome",".interruptor #lampadas3","removeClass","each","on2","off4","#ee2211","ceamazon_","errorCode","Falha na conexão com a nuvem!","querySelectorAll","alert-warning","off1","join","alert-danger","Client",".interruptor #lampadas4","connect",".img-sala [data-dispositivo='lampadas1']","getUTCMilliseconds",".img-sala [data-dispositivo='lampadas3']",":checked","hairdresser.cloudmqtt.com","hD23-LNVOrD8","addClass","replace",".interruptor .interruptor-lampada","onConnectionLost:","div.alert","send","onConnectionLost","payloadString","ceamazon/","block","background","display","change","innerText","on3","off","Message","querySelector","destinationName","errorMessage","forEach","<span class='uk-margin-small-left' uk-spinner></span>","qos","xldvnagx","off3","append","subscribe","checked","on1","off2","style","#119933","on4",".interruptor #lampadas1",".img-sala [data-dispositivo='lampadas4']","onMessageArrived"];!function(a,x){!function(x){for(;--x;)a.push(a.shift())}(++x)}(_0xd363,315);var _0x71af=function(a,x){return _0xd363[a-=0]},textoNotificacao=document[_0x71af("0x2c")](_0x71af("0x1f"));$(textoNotificacao)[_0x71af("0x34")](_0x71af("0x30"));var host=_0x71af("0x19"),port=37615,id=_0x71af("0xa")+(new Date)[_0x71af("0x16")](),client=new(Paho[_0x71af("0x12")])(host,port,id);function doFail(a){a&&(console[_0x71af("0x2")](a),$(textoNotificacao).removeClass("alert-warning")[_0x71af("0x1b")](_0x71af("0x11")),textoNotificacao[_0x71af("0x28")]=_0x71af("0xc"),textoNotificacao[_0x71af("0x39")][_0x71af("0x26")]=_0x71af("0x24"))}function onConnectionLost(a){0!==a[_0x71af("0xb")]&&(console[_0x71af("0x2")](_0x71af("0x1e")+a[_0x71af("0x2e")]),$(textoNotificacao)[_0x71af("0x5")](_0x71af("0xe"))[_0x71af("0x1b")](_0x71af("0x11")),textoNotificacao[_0x71af("0x28")]="A conexão com a nuvem foi perdida!",textoNotificacao[_0x71af("0x39")][_0x71af("0x26")]=_0x71af("0x24"))}function onMessageArrived(a){mudaInterruptores(a[_0x71af("0x22")]),mudaIconesLampadas(a[_0x71af("0x22")])}client[_0x71af("0x21")]=onConnectionLost,client[_0x71af("0x3e")]=onMessageArrived;var options={userName:_0x71af("0x32"),password:_0x71af("0x1a"),useSSL:!0,onSuccess:onConnect,onFailure:doFail};function onConnect(){$(textoNotificacao)[_0x71af("0x5")](_0x71af("0xe"))[_0x71af("0x1b")]("alert-success"),textoNotificacao[_0x71af("0x28")]="Conectado!";for(var a=document.querySelectorAll(_0x71af("0x1d")),x=document.querySelector(_0x71af("0x3"))[_0x71af("0x28")].toLowerCase()[_0x71af("0x1c")](/[á]/g,"a").replace(/[ã]/g,"a")[_0x71af("0x1c")](/[é]/g,"e").replace(/[ó]/g,"o")[_0x71af("0x1c")](/[õ]/g,"o")[_0x71af("0x1c")](/[ç]/g,"c").match(/[a-z]/g)[_0x71af("0x10")](""),e=1;e<a.length+1;e++)client[_0x71af("0x35")](_0x71af("0x23")+x+"/c"+e);acionaLampadas(x,a,client)}function acionaLampadas(a,x,e){var o="";$(x)[_0x71af("0x6")]((function(x){x+=1,$(this)[_0x71af("0x27")]((function(){$(this).is(_0x71af("0x18"))?((o=new(Paho[_0x71af("0x2b")])("on"+x))[_0x71af("0x2d")]="ceamazon/"+a+"/c"+x,o[_0x71af("0x31")]=1,o.retained=!0,e.send(o)):((o=new(Paho[_0x71af("0x2b")])(_0x71af("0x2a")+x))[_0x71af("0x2d")]=_0x71af("0x23")+a+"/c"+x,o.qos=1,o.retained=!0,e[_0x71af("0x20")](o))}))}))}function mudaInterruptores(a){var x=document[_0x71af("0xd")](".interruptor .interruptor-lampada"),e=document[_0x71af("0x2c")](_0x71af("0x3c")),o=document[_0x71af("0x2c")](_0x71af("0x0")),f=document[_0x71af("0x2c")](_0x71af("0x4")),n=document[_0x71af("0x2c")](_0x71af("0x13"));x.forEach((function(){switch(a){case _0x71af("0x37"):e[_0x71af("0x36")]=!0;break;case _0x71af("0xf"):e.checked=!1;break;case _0x71af("0x7"):o[_0x71af("0x36")]=!0;break;case _0x71af("0x38"):o.checked=!1;break;case"on3":f[_0x71af("0x36")]=!0;break;case _0x71af("0x33"):f.checked=!1;break;case"on4":n.checked=!0;break;case _0x71af("0x8"):n[_0x71af("0x36")]=!1}}))}function mudaIconesLampadas(a){var x=document.querySelectorAll(_0x71af("0x15")),e=document.querySelectorAll(_0x71af("0x1")),o=document.querySelectorAll(_0x71af("0x17")),f=document[_0x71af("0xd")](_0x71af("0x3d")),n=_0x71af("0x3a"),t=_0x71af("0x9");x[_0x71af("0x2f")]((function(x){"on1"==a?x.style[_0x71af("0x25")]=n:a==_0x71af("0xf")&&(x.style.background=t)})),e.forEach((function(x){"on2"==a?x.style.background=n:a==_0x71af("0x38")&&(x[_0x71af("0x39")][_0x71af("0x25")]=t)})),o[_0x71af("0x2f")]((function(x){a==_0x71af("0x29")?x[_0x71af("0x39")][_0x71af("0x25")]=n:a==_0x71af("0x33")&&(x[_0x71af("0x39")][_0x71af("0x25")]=t)})),f[_0x71af("0x2f")]((function(x){a==_0x71af("0x3b")?x[_0x71af("0x39")].background=n:a==_0x71af("0x8")&&(x[_0x71af("0x39")][_0x71af("0x25")]=t)}))}client[_0x71af("0x14")](options);