var _0x50a3=["subscribe","destinationName","join","salaprof2","salaprof4","off3","sala7","on3","off2","sala5","labdesistemasmotrizesa","secretaria2","labmotriz1","salaprof3","on4","ceamazon_","off4",".img-sala [data-dispositivo='lampadas2']","match","onMessageArrived",".img-sala [data-dispositivo='lampadas1']","Message","sala1","checked","A conexão com a nuvem foi perdida!","xldvnagx","getUTCMilliseconds","querySelectorAll","on2",".interruptor #lampadas4","display","hD23-LNVOrD8","style","ceamazon/","append","innerText","change","sala9","labdeconcepcaoeanalisededispositivoseletricos","salaprof6","Client","addClass","querySelector","#ee2211","off","errorMessage",".interruptor .interruptor-lampada","replace","onConnectionLost",".img-sala [data-dispositivo='lampadas3']","sala2","onConnectionLost:","salaprof1","background","secretaria","Conectado!","alert-danger","off1","modelagem",".img-sala [data-dispositivo='lampadas4']","log",".interruptor #lampadas2",".interruptor #lampadas1","saladeaula2","alert-success","#119933","forEach","salaprof5","oficina","labdemodelagem","labdeinstalacoeseletricas","toLowerCase","sala6","sala3","salareuniao","lie","alert-warning",":checked","block","payloadString","on1",".interruptor #lampadas3","retained","send","labdeafericao","length","removeClass"];!function(a,x){!function(x){for(;--x;)a.push(a.shift())}(++x)}(_0x50a3,342);var _0x477f=function(a,x){return _0x50a3[a-=0]},textoNotificacao=document[_0x477f("0x30")]("div.alert");$(textoNotificacao)[_0x477f("0x28")]("<span class='uk-margin-small-left' uk-spinner></span>");var host="hairdresser.cloudmqtt.com",port=37615,id=_0x477f("0x15")+(new Date)[_0x477f("0x20")](),client=new(Paho[_0x477f("0x2e")])(host,port,id);function doFail(a){a&&(console.log(a),$(textoNotificacao)[_0x477f("0x5")]("alert-warning")[_0x477f("0x2f")](_0x477f("0x3e")),textoNotificacao[_0x477f("0x29")]="Falha na conexão com a nuvem!",textoNotificacao.style[_0x477f("0x24")]=_0x477f("0x54"))}function onConnectionLost(a){0!==a.errorCode&&(console[_0x477f("0x42")](_0x477f("0x39")+a[_0x477f("0x33")]),$(textoNotificacao).removeClass(_0x477f("0x52")).addClass(_0x477f("0x3e")),textoNotificacao[_0x477f("0x29")]=_0x477f("0x1e"),textoNotificacao[_0x477f("0x26")].display=_0x477f("0x54"))}function onMessageArrived(a){mudaInterruptores(a[_0x477f("0x55")]),mudaIconesLampadas(a.payloadString)}client[_0x477f("0x36")]=onConnectionLost,client[_0x477f("0x19")]=onMessageArrived;var options={userName:_0x477f("0x1f"),password:_0x477f("0x25"),useSSL:!0,onSuccess:onConnect,onFailure:doFail};function onConnect(){$(textoNotificacao).removeClass(_0x477f("0x52")).addClass(_0x477f("0x46")),textoNotificacao.innerText=_0x477f("0x3d");var a=document.querySelectorAll(_0x477f("0x34")),x=document[_0x477f("0x30")](".salas .sala-nome").innerText[_0x477f("0x4d")]()[_0x477f("0x35")](/[á]/g,"a").replace(/[ã]/g,"a").replace(/[é]/g,"e")[_0x477f("0x35")](/[ó]/g,"o")[_0x477f("0x35")](/[õ]/g,"o").replace(/[ç]/g,"c")[_0x477f("0x18")](/[a-z0-9]/g)[_0x477f("0x8")]("");switch(x){case _0x477f("0x4c"):x=_0x477f("0x51");break;case _0x477f("0x10"):x=_0x477f("0x12");break;case _0x477f("0x3c"):x="secretaria1";break;case"diretoria":x=_0x477f("0x11");break;case _0x477f("0x2c"):x="lcade";break;case"labsima":x="sima";break;case _0x477f("0x4b"):x=_0x477f("0x40");break;case"labdequalidadedeenergia":x="qee";break;case"labdesistemasmotrizesb":x="labmotriz2";break;case"saladereuniao":x=_0x477f("0x50");break;case"saladeaula1":x=_0x477f("0x1c");break;case _0x477f("0x45"):x=_0x477f("0x38");break;case _0x477f("0x3"):x=_0x477f("0x4f");break;case _0x477f("0x3a"):x="sala4";break;case _0x477f("0x9"):x=_0x477f("0xf");break;case _0x477f("0x13"):x=_0x477f("0x4e");break;case _0x477f("0xa"):x=_0x477f("0xc");break;case _0x477f("0x49"):x="sala8";break;case _0x477f("0x2d"):x=_0x477f("0x2b");break;case _0x477f("0x4a"):x="sala10"}for(var e=1;e<a[_0x477f("0x4")]+1;e++)client[_0x477f("0x6")](_0x477f("0x27")+x+"/c"+e);acionaLampadas(x,a,client)}function acionaLampadas(a,x,e){var o="";$(x).each((function(x){x+=1,$(this)[_0x477f("0x2a")]((function(){$(this).is(_0x477f("0x53"))?((o=new(Paho[_0x477f("0x1b")])("on"+x))[_0x477f("0x7")]="ceamazon/"+a+"/c"+x,o.qos=1,o[_0x477f("0x1")]=!0,e[_0x477f("0x2")](o)):((o=new(Paho[_0x477f("0x1b")])(_0x477f("0x32")+x))[_0x477f("0x7")]="ceamazon/"+a+"/c"+x,o.qos=1,o.retained=!0,e[_0x477f("0x2")](o))}))}))}function mudaInterruptores(a){var x=document[_0x477f("0x21")](_0x477f("0x34")),e=document[_0x477f("0x30")](_0x477f("0x44")),o=document[_0x477f("0x30")](_0x477f("0x43")),f=document[_0x477f("0x30")](_0x477f("0x0")),s=document[_0x477f("0x30")](_0x477f("0x23"));x.forEach((function(){switch(a){case _0x477f("0x56"):e.checked=!0;break;case _0x477f("0x3f"):e.checked=!1;break;case _0x477f("0x22"):o[_0x477f("0x1d")]=!0;break;case _0x477f("0xe"):o[_0x477f("0x1d")]=!1;break;case _0x477f("0xd"):f.checked=!0;break;case _0x477f("0xb"):f.checked=!1;break;case _0x477f("0x14"):s[_0x477f("0x1d")]=!0;break;case"off4":s[_0x477f("0x1d")]=!1}}))}function mudaIconesLampadas(a){var x=document[_0x477f("0x21")](_0x477f("0x1a")),e=document[_0x477f("0x21")](_0x477f("0x17")),o=document[_0x477f("0x21")](_0x477f("0x37")),f=document[_0x477f("0x21")](_0x477f("0x41")),s=_0x477f("0x47"),c=_0x477f("0x31");x[_0x477f("0x48")]((function(x){a==_0x477f("0x56")?x[_0x477f("0x26")][_0x477f("0x3b")]=s:a==_0x477f("0x3f")&&(x[_0x477f("0x26")][_0x477f("0x3b")]=c)})),e[_0x477f("0x48")]((function(x){a==_0x477f("0x22")?x.style[_0x477f("0x3b")]=s:"off2"==a&&(x[_0x477f("0x26")].background=c)})),o[_0x477f("0x48")]((function(x){a==_0x477f("0xd")?x.style.background=s:a==_0x477f("0xb")&&(x.style[_0x477f("0x3b")]=c)})),f.forEach((function(x){a==_0x477f("0x14")?x[_0x477f("0x26")][_0x477f("0x3b")]=s:a==_0x477f("0x16")&&(x[_0x477f("0x26")][_0x477f("0x3b")]=c)}))}client.connect(options);